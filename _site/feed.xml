<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.0.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2020-02-28T14:18:11-08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Quantum chemistry notes in mass spectrometry</title><subtitle>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</subtitle><entry><title type="html">How to Speed up QCEIMS</title><link href="http://localhost:4000/2020/02/28/ideas-on-speed-up-qceims.html" rel="alternate" type="text/html" title="How to Speed up QCEIMS" /><published>2020-02-28T13:24:52-08:00</published><updated>2020-02-28T13:24:52-08:00</updated><id>http://localhost:4000/2020/02/28/ideas-on-speed-up-qceims</id><content type="html" xml:base="http://localhost:4000/2020/02/28/ideas-on-speed-up-qceims.html">&lt;h2 id=&quot;how-to-speed-up-qceims&quot;&gt;How to Speed up QCEIMS&lt;/h2&gt;
&lt;h3 id=&quot;qc-method&quot;&gt;QC method&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Multiple time step integrator&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Plan:&lt;/strong&gt; break down GFN-xTB Hamiltonian into fast and slow part&lt;/p&gt;

&lt;p&gt;This is a challenging but doable part for me. To solve this problem, I need better understand on
 quantum chemistry and molecular dynamics. Also, since Lee-Ping is the expert in this field,
 I need to talk to him more frequently and regularly. If I can solve this problem before my QE,
 I will have 100% confidence to pass it.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Combine different methods&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Plan:&lt;/strong&gt; OM2 as ground state MD and GFN-xTB as production&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Ground state MD Energy&lt;/strong&gt;&lt;br /&gt;
  &lt;img src=&quot;/image/new143energy.png&quot; alt=&quot;GFN_energy&quot; /&gt;&lt;/p&gt;

&lt;p&gt;GFN &lt;em&gt;GFN has more energy levels&lt;/em&gt;
  &lt;img src=&quot;/image/143energy.png&quot; alt=&quot;OM2_energy&quot; /&gt;&lt;/p&gt;

&lt;p&gt;OM2 methods&lt;/p&gt;

&lt;p&gt;This is an easy trial. Just modify the codes and keep the nodes running. Can be done at free time.&lt;/p&gt;

&lt;h3 id=&quot;statistical-method&quot;&gt;Statistical method&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;Get a stable spectrum with less MD times&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;Production MD #fragments&lt;/strong&gt;
  &lt;img src=&quot;/image/newversion143.png&quot; alt=&quot;GFN_fragment&quot; /&gt;&lt;/p&gt;

&lt;p&gt;GFN &lt;em&gt;GFN has longer simulation time&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/image/143fragments.png&quot; alt=&quot;OM2_fragment&quot; /&gt;&lt;/p&gt;

&lt;p&gt;OM2 methods&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Change parameters&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This could be the main part for my QE project. We already had some results and it’s easy
to draw some conclusions. But we need to collect more chemistry knowledge into explanation.&lt;/p&gt;

&lt;h3 id=&quot;cs-method&quot;&gt;CS method&lt;/h3&gt;
&lt;ol&gt;
  &lt;li&gt;openMP
  how to parallel&lt;/li&gt;
  &lt;li&gt;running time analyses
  Find out witch step takes more time:
  &lt;a href=&quot;https://docs.oracle.com/cd/E19957-01/805-4940/6j4m1u7q2/index.html&quot;&gt;Performance Profiling&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;I am very interested in this subproject, this will help us understand how it runs on CPUs better.
And we can find a way to optimize the codes, even transfer the code to GPUs. But this project is
a littel far away from chemistry. I am more willing to dig into this after QE.&lt;/p&gt;

&lt;h2 id=&quot;need-to-do&quot;&gt;Need to do&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;At this time, finishing the QCEIMS paper has the highest priority. &lt;strong&gt;Before Friday Dec 6&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Get the statistical method test code running. &lt;strong&gt;This weekend&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Finish a review paper on QCEIMS and it’s application in metabolomics.&lt;strong&gt;Before the end of this quarter&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Finish the draft and talk with Dean about the gold project paper. &lt;strong&gt;Winter break&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;task-external&quot;&gt;Task external&lt;/h2&gt;

&lt;p&gt;1) Code parser for qceims.out to calculate the reason of exit and time steps.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;step   time [fs]    Epot       Ekin       Etot    error  #F   eTemp   frag. T | 	Reason
--------------------------------------------------------------------------------------------------
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached
    900   1380.    -25.06868   0.1446   -24.92406  0.0006 1   21000.    4104.        	E X I T   M D  because of tmax has been reached

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2) Analyze time [fs] for exit and&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
    							Count	Percent
    E X I T   M D  because nothing happens here anymore	194	25.12953
    E X I T   M D  because of nfrag=nfragexit		186	24.09326
    E X I T   M D  because of tmax has been reached	339	43.91192
    E X I T   M D  because of multiple fragments	53	6.86528




&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;3) Analyze quality of spectra with 5,10,15,20,25 * number of atoms, based on qceims.res analysis for subsequent temp directories&lt;/p&gt;

&lt;h2 id=&quot;program-got-stuck&quot;&gt;Program got stuck&lt;/h2&gt;

&lt;h3 id=&quot;scc-not-converged&quot;&gt;SCC not converged&lt;/h3&gt;
&lt;h4 id=&quot;reason1-actual-2-fragments-but-we-thought-its-one-qceimsout&quot;&gt;Reason1: Actual 2 fragments, but we thought it’s one. (qceims.out)&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   inter fragment distances (Angst.)

           1         2         3         4

    1   0.00000
    2   4.93472   0.00000
    3  15.69160  18.64043   0.00000
    4  16.03335  13.62240  28.79924   0.00000

 computing IPs with XTB at (K)   4916.
SCC not converged
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;solution: hard to find a better way to define a fragment; need a lot of tests.&lt;/strong&gt;
coord:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;8

S	4.21054	8.02837	-0.31989
C	5.1151	8.0825	-3.048
C	13.0601	7.79535	-1.04052
H	6.92649	8.61662	-3.82286
H	3.65999	7.29727	-4.28192
H	11.0054	7.33935	-0.98352
H	14.30881	7.11221	0.40712
H	13.01674	9.77721	-1.83008
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;reason2-just-not-convergedqceimsout&quot;&gt;Reason2: Just not converged(qceims.out)&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;avcycle =   50    more =  250

step   time [fs]    Epot       Ekin       Etot    error  #F   eTemp   frag. T
      0      0.    -20.18971   0.0594   -20.13029  0.0000 1    5000.     695.
    100     50.    -20.17594   0.0966   -20.07935  0.0000 1    5000.     942.
    200    100.    -20.14071   0.1454   -19.99528  0.0000 1    5000.    1151.
    300    150.    -20.07645   0.1649   -19.91152  0.0000 1    5000.    1381.
    400    200.    -20.08032   0.2432   -19.83716  0.0000 1    5000.    1659.
    500    250.    -20.03967   0.2505   -19.78916  0.0000 1    5000.    1905.
    600    300.    -20.02677   0.2772   -19.74956  0.0000 1    5000.    2129.
    700    350.    -19.98898   0.3543   -19.63470  0.0000 1    5000.    2345.
    800    400.    -19.98386   0.4064   -19.57748  0.0000 1    5000.    2606.
    900    450.    -19.92756   0.3623   -19.56528  0.0000 1    5000.    2842.
   1000    500.    -19.92721   0.4715   -19.45567  0.0000 1    5000.    3064.
   1100    550.    -19.95021   0.5111   -19.43912  0.0000 2    5000.    3645.  8466.
   1200    600.    -20.00059   0.5600   -19.44060  0.0000 2    5000.    3916.  9360.
   1300    650.    -19.92554   0.4969   -19.42863  0.0000 2    5000.    3781.  7905.
   1400    700.    -19.84840   0.4265   -19.42191  0.0000 2    5000.    3796.  6122.
   1500    750.    -19.81527   0.3804   -19.43484  0.0000 3    5000.    3270.  4055.  7832.
SCC not converged
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;solution: catch the error information and stop the process&lt;/strong&gt;
coord:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;18			

S	1.78274	7.82976	8.34857
C	6.40366	17.0264	-11.22789
C	4.90113	18.73804	-10.46774
C	-10.72444	17.38046	-14.34567
C	1.40078	4.1999	13.71945
C	1.08827	1.57931	12.5908
H	5.1336	19.74066	-8.86432
H	6.48994	15.31812	-10.83998
H	7.30355	18.84539	-11.56004
H	3.15313	10.02538	7.96832
H	-10.06331	16.13587	-13.007
H	-10.03317	16.27188	-16.18967
H	-10.04083	18.98395	-13.82771
H	-0.45977	5.08437	13.87991
H	3.23205	4.78335	14.31882
H	2.93856	0.97881	11.74942
H	0.36766	2.51487	10.51831
H	0.00497	-0.07728	13.04497
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When we repeat those two mnolecules, it will be converged.
Something could be wrong with the system!&lt;/p&gt;
&lt;h3 id=&quot;cant-find-parameter-file&quot;&gt;Can’t find parameter file&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;solution: complie the GFN parameter file in the program&lt;/strong&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">How to Speed up QCEIMS QC method</summary></entry><entry><title type="html">Welcome to Jekyll!</title><link href="http://localhost:4000/jekyll/update/2020/02/27/welcome-to-jekyll.html" rel="alternate" type="text/html" title="Welcome to Jekyll!" /><published>2020-02-27T14:24:52-08:00</published><updated>2020-02-27T14:24:52-08:00</updated><id>http://localhost:4000/jekyll/update/2020/02/27/welcome-to-jekyll</id><content type="html" xml:base="http://localhost:4000/jekyll/update/2020/02/27/welcome-to-jekyll.html">&lt;p&gt;You’ll find this post in your &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;Jekyll requires blog post files to be named according to the following format:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;YEAR-MONTH-DAY-title.MARKUP&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Where &lt;code class=&quot;highlighter-rouge&quot;&gt;YEAR&lt;/code&gt; is a four-digit number, &lt;code class=&quot;highlighter-rouge&quot;&gt;MONTH&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;DAY&lt;/code&gt; are both two-digit numbers, and &lt;code class=&quot;highlighter-rouge&quot;&gt;MARKUP&lt;/code&gt; is the file extension representing the format used in the file. After that, include the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Tom'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints 'Hi, Tom' to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://jekyllrb.com/docs/home&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://talk.jekyllrb.com/&quot;&gt;Jekyll Talk&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">You’ll find this post in your _posts directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run jekyll serve, which launches a web server and auto-regenerates your site when a file is updated.</summary></entry></feed>